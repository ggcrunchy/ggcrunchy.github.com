<!DOCTYPE html>
<!-- saved from url=(0072)http://coronalabs.com/blog/2015/01/13/tutorial-creating-android-tv-apps/ -->
<html lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Tutorial: Creating Android TV Apps | Corona Labs</title>
<link rel="profile" href="http://gmpg.org/xfn/11">
<link rel="pingback" href="http://coronalabs.com/xmlrpc.php">
<link href="./PageCurl_files/css" rel="stylesheet" type="text/css">  
<script src="./PageCurl_files/cb=gapi.loaded_1" async=""></script><script src="./PageCurl_files/cb=gapi.loaded_0" async=""></script><script type="text/javascript" async="" src="./PageCurl_files/widgets.js"></script><script type="text/javascript" async="" src="./PageCurl_files/plusone.js" gapi_processed="true"></script><script type="text/javascript" async="" src="./PageCurl_files/inpage_linkid.js" id="undefined"></script><script type="text/javascript" async="" src="./PageCurl_files/dc.js"></script><script src="./PageCurl_files/remote_user_menu"></script>
<!-- icons & favicons -->
<!-- For iPhone 4 -->
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="http://ddz4z2fxb232w.cloudfront.net/images/phone-icons/h/apple-touch-icon.png">
<!-- For iPad 1-->
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="http://ddz4z2fxb232w.cloudfront.net/images/phone-icons/m/apple-touch-icon.png">
<!-- For iPhone 3G, iPod Touch and Android -->
<link rel="apple-touch-icon-precomposed" href="http://ddz4z2fxb232w.cloudfront.net/images/phone-icons/l/apple-touch-icon-precomposed.png">
<!-- For Nokia -->
<link rel="shortcut icon" href="http://ddz4z2fxb232w.cloudfront.net/images/phone-icons/l/apple-touch-icon.png">
<!-- For everything else -->
<link rel="shortcut icon" href="http://ddz4z2fxb232w.cloudfront.net/favicon.ico">
<link rel="alternate" type="application/rss+xml" title="Corona Labs » Feed" href="http://coronalabs.com/feed/">
<link rel="alternate" type="application/rss+xml" title="Corona Labs » Comments Feed" href="http://coronalabs.com/comments/feed/">
<link rel="alternate" type="application/rss+xml" title="Corona Labs » Tutorial: Creating Android TV Apps Comments Feed" href="http://coronalabs.com/blog/2015/01/13/tutorial-creating-android-tv-apps/feed/">
<link rel="stylesheet" id="mediaelement-css" href="./PageCurl_files/mediaelementplayer.min.css" type="text/css" media="all">
<link rel="stylesheet" id="wp-mediaelement-css" href="./PageCurl_files/wp-mediaelement.css" type="text/css" media="all">
<link rel="stylesheet" id="wp-polls-css" href="./PageCurl_files/polls-css.css" type="text/css" media="all">
<link rel="stylesheet" id="corona-bootstrap-css" href="./PageCurl_files/bootstrap.min.css" type="text/css" media="all">
<link rel="stylesheet" id="corona-style-css" href="./PageCurl_files/style.css" type="text/css" media="all">
<link rel="stylesheet" id="wp-fancybox-fancybox-css" href="./PageCurl_files/jquery.fancybox.css" type="text/css" media="all">
<link rel="stylesheet" id="views-pagination-style-css" href="./PageCurl_files/wpv-pagination.css" type="text/css" media="all">
<link rel="stylesheet" id="prettify-css" href="./PageCurl_files/custom.css" type="text/css" media="all">
<link rel="stylesheet" id="taxonomy-image-plugin-public-css" href="./PageCurl_files/style(1).css" type="text/css" media="screen">
<script type="text/javascript" src="./PageCurl_files/player.min.js"></script>
<script type="text/javascript" src="./PageCurl_files/jquery.js"></script>
<script type="text/javascript" src="./PageCurl_files/jquery-migrate.min.js"></script>
<script type="text/javascript" src="./PageCurl_files/powerpress-mejs.js"></script>
<script type="text/javascript" src="./PageCurl_files/bootstrap.js"></script>
<script type="text/javascript" src="./PageCurl_files/bootstrap-wp.js"></script><style>body{display:none;}</style>
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://coronalabs.com/xmlrpc.php?rsd">
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="http://coronalabs.com/wp-includes/wlwmanifest.xml"> 
<link rel="prev" title="From the Forum — Issue #54" href="http://coronalabs.com/blog/2015/01/09/from-the-forum-issue-54/">
<meta name="generator" content="WordPress 4.0.1">
<link rel="shortlink" href="http://coronalabs.com/?p=60833">
<script type="text/javascript"><!--
function powerpress_pinw(pinw){window.open('http://coronalabs.com/?powerpress_pinw='+pinw, 'PowerPressPlayer','toolbar=0,status=0,resizable=1,width=460,height=320');	return false;}
powerpress_url = 'http://coronalabs.com/plugins/powerpress/';
//-->
</script>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {inlineMath: [["$","$"],["\\(","\\)"]]},
	TeX: {
		Macros: {
			vcomps: ['\\langle {#1}, {#2} \\rangle', 2],
			vlen: ['\\|\\mathbf{#1}\\|', 1],
			dotp: ['#1_x #2_x + #1_y #2_y', 2],
			dotvw: ['\\mathbf{#1} \\cdot \\mathbf{#2}', 2],
			softerdotvw: ['#1 \\cdot \\mathbf{#2}', 2],
			dotvwparen: ['\\mathbf{#1} \\cdot (\\mathbf{#2})', 2],
		}
	  }
  });
</script>

<script type="text/javascript" async
  src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML-full">
</script>

<style type="text/css">
.wp-polls .pollbar {
	margin: 1px;
	font-size: 6px;
	line-height: 8px;
	height: 8px;
	background-image: url('http://coronalabs.com/plugins/wp-polls/images/default/pollbg.gif');
	border: 1px solid #c8c8c8;
}
</style>

<!-- All in One SEO Pack 2.2.3.1 by Michael Torbert of Semper Fi Web Design[137,192] -->
<link rel="author" href="https://plus.google.com/106405667962965815359/">
<meta name="description" content="In this week&#39;s tutorial, guest contributor Greg Pugh illustrates the simple process involved in releasing your Corona-made project for Android TV.">

<meta name="keywords" content="android tv,tutorial">

<link rel="canonical" href="./PageCurl_files/Coroutines.html">
<!-- /all in one seo pack -->

		<style media="print" type="text/css">
			div.faq_answer {display: block!important;}
			p.faq_nav {display: none;}
		</style>

	<script type="text/javascript">

  var _gaq = _gaq || [];
  var pluginUrl = '//www.google-analytics.com/plugins/ga/inpage_linkid.js';
  _gaq.push(['_require', 'inpage_linkid', pluginUrl]);
  _gaq.push(['_setAccount', 'UA-9574984-6']);
  _gaq.push(['_setDomainName', 'coronalabs.com']);
  _gaq.push(['_trackPageview']);

  (function() {
	var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
	ga.src = ('https:' == document.location.protocol ? 'https://' : 'http://') + 'stats.g.doubleclick.net/dc.js';
	var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
<script src="./PageCurl_files/secureAnonymousFramework"></script><style type="text/css">* html #li_ui_li_gen_1421432617759_0 a#li_ui_li_gen_1421432617759_0-link{height:1% !important;}#li_ui_li_gen_1421432617759_0{position:relative !important;overflow:visible !important;display:block !important;}#li_ui_li_gen_1421432617759_0 span{-webkit-box-sizing:content-box !important;-moz-box-sizing:content-box !important;box-sizing:content-box !important;}#li_ui_li_gen_1421432617759_0 a#li_ui_li_gen_1421432617759_0-link{border:0 !important;height:20px !important;text-decoration:none !important;padding:0 !important;margin:0 !important;display:inline-block !important;}#li_ui_li_gen_1421432617759_0 a#li_ui_li_gen_1421432617759_0-link:link, #li_ui_li_gen_1421432617759_0 a#li_ui_li_gen_1421432617759_0-link:visited, #li_ui_li_gen_1421432617759_0 a#li_ui_li_gen_1421432617759_0-link:hover, #li_ui_li_gen_1421432617759_0 a#li_ui_li_gen_1421432617759_0-link:active{border:0 !important;text-decoration:none !important;}#li_ui_li_gen_1421432617759_0 a#li_ui_li_gen_1421432617759_0-link:after{content:"." !important;display:block !important;clear:both !important;visibility:hidden !important;line-height:0 !important;height:0 !important;}#li_ui_li_gen_1421432617759_0 #li_ui_li_gen_1421432617759_0-logo{background-image:url(https://static.licdn.com/scds/common/u/images/apps/connect/sprites/sprite_connect_v14.png) !important;background-position:0px -276px !important;background-repeat:no-repeat !important;background-size:initial !important;cursor:pointer !important;border:0 !important;text-indent:-9999em !important;overflow:hidden !important;padding:0 !important;margin:0 !important;position:absolute !important;left:0px !important;top:0px !important;display:block !important;width:20px !important;height:20px !important;float:right !important;border-radius:0 !important;-webkit-border-radius:0 !important;border-top-right-radius:2px !important;border-bottom-right-radius:2px !important;-webkit-border-top-right-radius:2px !important;-webkit-border-bottom-right-radius:2px !important;}#li_ui_li_gen_1421432617759_0.hovered #li_ui_li_gen_1421432617759_0-logo{background-position:-20px -276px !important;}#li_ui_li_gen_1421432617759_0.clicked #li_ui_li_gen_1421432617759_0-logo, #li_ui_li_gen_1421432617759_0.down #li_ui_li_gen_1421432617759_0-logo{background-position:-40px -276px !important;}.IN-shadowed #li_ui_li_gen_1421432617759_0 #li_ui_li_gen_1421432617759_0-logo{}#li_ui_li_gen_1421432617759_0 #li_ui_li_gen_1421432617759_0-title{color:#333 !important;cursor:pointer !important;display:block !important;white-space:nowrap !important;float:left !important;margin-left:1px !important;vertical-align:top !important;overflow:hidden !important;text-align:center !important;height:18px !important;padding:0 4px 0 23px !important;border:1px solid #000 !important;border-top-color:#E2E2E2 !important;border-right-color:#BFBFBF !important;border-bottom-color:#B9B9B9 !important;border-left-color:#E2E2E2 !important;border-left:0 !important;text-shadow:#FFFFFF -1px 1px 0 !important;line-height:20px !important;border-radius:0 !important;-webkit-border-radius:0 !important;border-top-right-radius:2px !important;border-bottom-right-radius:2px !important;-webkit-border-top-right-radius:2px !important;-webkit-border-bottom-right-radius:2px !important;background-color:#ECECEC !important;background-image:-webkit-gradient(linear, left top, left bottom, color-stop(0%,#FEFEFE), color-stop(100%,#ECECEC)) !important; background-image: -webkit-linear-gradient(top, #FEFEFE 0%, #ECECEC 100%) !important;}#li_ui_li_gen_1421432617759_0.hovered #li_ui_li_gen_1421432617759_0-title{border:1px solid #000 !important;border-top-color:#ABABAB !important;border-right-color:#9A9A9A !important;border-bottom-color:#787878 !important;border-left-color:#04568B !important;border-left:0 !important;background-color:#EDEDED !important;background-image:-webkit-gradient(linear, left top, left bottom, color-stop(0%,#EDEDED), color-stop(100%,#DEDEDE)) !important; background-image: -webkit-linear-gradient(top, #EDEDED 0%, #DEDEDE 100%) !important;}#li_ui_li_gen_1421432617759_0.clicked #li_ui_li_gen_1421432617759_0-title, #li_ui_li_gen_1421432617759_0.down #li_ui_li_gen_1421432617759_0-title{color:#666 !important;border:1px solid #000 !important;border-top-color:#B6B6B6 !important;border-right-color:#B3B3B3 !important;border-bottom-color:#9D9D9D !important;border-left-color:#49627B !important;border-left:0 !important;background-color:#DEDEDE !important;background-image:-webkit-gradient(linear, left top, left bottom, color-stop(0%,#E3E3E3), color-stop(100%,#EDEDED)) !important; background-image: -webkit-linear-gradient(top, #E3E3E3 0%, #EDEDED 100%) !important;}.IN-shadowed #li_ui_li_gen_1421432617759_0 #li_ui_li_gen_1421432617759_0-title{}.IN-shadowed #li_ui_li_gen_1421432617759_0.hovered #li_ui_li_gen_1421432617759_0-title{}.IN-shadowed #li_ui_li_gen_1421432617759_0.clicked #li_ui_li_gen_1421432617759_0-title, .IN-shadowed #li_ui_li_gen_1421432617759_0.down #li_ui_li_gen_1421432617759_0-title{}#li_ui_li_gen_1421432617759_0 #li_ui_li_gen_1421432617759_0-title-text, #li_ui_li_gen_1421432617759_0 #li_ui_li_gen_1421432617759_0-title-text *{color:#333 !important;font-size:11px !important;font-family:Arial, sans-serif !important;font-weight:bold !important;font-style:normal !important;-webkit-font-smoothing:antialiased !important;display:inline-block !important;background:transparent none !important;vertical-align:top !important;height:18px !important;line-height:20px !important;float:none !important;}#li_ui_li_gen_1421432617759_0 #li_ui_li_gen_1421432617759_0-title-text strong{font-weight:bold !important;}#li_ui_li_gen_1421432617759_0 #li_ui_li_gen_1421432617759_0-title-text em{font-style:italic !important;}#li_ui_li_gen_1421432617759_0.hovered #li_ui_li_gen_1421432617759_0-title-text, #li_ui_li_gen_1421432617759_0.hovered #li_ui_li_gen_1421432617759_0-title-text *{color:#000 !important;}#li_ui_li_gen_1421432617759_0.clicked #li_ui_li_gen_1421432617759_0-title-text, #li_ui_li_gen_1421432617759_0.down #li_ui_li_gen_1421432617759_0-title-text, #li_ui_li_gen_1421432617759_0.clicked #li_ui_li_gen_1421432617759_0-title-text *, #li_ui_li_gen_1421432617759_0.down #li_ui_li_gen_1421432617759_0-title-text *{color:#666 !important;}#li_ui_li_gen_1421432617759_0 #li_ui_li_gen_1421432617759_0-title #li_ui_li_gen_1421432617759_0-mark{display:inline-block !important;width:0px !important;overflow:hidden !important;}.success #li_ui_li_gen_1421432617759_0 #li_ui_li_gen_1421432617759_0-title{color:#333 !important;border-top-color:#E2E2E2 !important;border-right-color:#BFBFBF !important;border-bottom-color:#B9B9B9 !important;border-left-color:#E2E2E2 !important;background-color:#ECECEC !important;background-image:-webkit-gradient(linear, left top, left bottom, color-stop(0%,#FEFEFE), color-stop(100%,#ECECEC)) !important; background-image: -webkit-linear-gradient(top, #FEFEFE 0%, #ECECEC 100%) !important;}.success #li_ui_li_gen_1421432617759_0 #li_ui_li_gen_1421432617759_0-title-text, .success #li_ui_li_gen_1421432617759_0 #li_ui_li_gen_1421432617759_0-title-text *{color:#333 !important;}.IN-shadowed .success #li_ui_li_gen_1421432617759_0 #li_ui_li_gen_1421432617759_0-title{}.success #li_ui_li_gen_1421432617759_0.hovered #li_ui_li_gen_1421432617759_0-title{color:#000 !important;border-top-color:#ABABAB !important;border-right-color:#9A9A9A !important;border-bottom-color:#787878 !important;border-left-color:#04568B !important;background-color:#EDEDED !important;background-image:-webkit-gradient(linear, left top, left bottom, color-stop(0%,#EDEDED), color-stop(100%,#DEDEDE)) !important; background-image: -webkit-linear-gradient(top, #EDEDED 0%, #DEDEDE 100%) !important;}.success #li_ui_li_gen_1421432617759_0.hovered #li_ui_li_gen_1421432617759_0-title-text, .success #li_ui_li_gen_1421432617759_0.hovered #li_ui_li_gen_1421432617759_0-title-text *{color:#000 !important;}.success #li_ui_li_gen_1421432617759_0.clicked #li_ui_li_gen_1421432617759_0-title, .success #li_ui_li_gen_1421432617759_0.down #li_ui_li_gen_1421432617759_0-title{color:#666 !important;border-top-color:#B6B6B6 !important;border-right-color:#B3B3B3 !important;border-bottom-color:#9D9D9D !important;border-left-color:#49627B !important;background-color:#DEDEDE !important;background-image:-webkit-gradient(linear, left top, left bottom, color-stop(0%,#E3E3E3), color-stop(100%,#EDEDED)) !important; background-image: -webkit-linear-gradient(top, #E3E3E3 0%, #EDEDED 100%) !important;}.success #li_ui_li_gen_1421432617759_0.clicked #li_ui_li_gen_1421432617759_0-title-text, .success #li_ui_li_gen_1421432617759_0.down #li_ui_li_gen_1421432617759_0-title-text, .success #li_ui_li_gen_1421432617759_0.clicked #li_ui_li_gen_1421432617759_0-title-text *, .success #li_ui_li_gen_1421432617759_0.down #li_ui_li_gen_1421432617759_0-title-text *{color:#666 !important;}.IN-shadowed .success #li_ui_li_gen_1421432617759_0.clicked #li_ui_li_gen_1421432617759_0-title, .IN-shadowed .success #li_ui_li_gen_1421432617759_0.down #li_ui_li_gen_1421432617759_0-title{}#li_ui_li_gen_1421432617782_1-container.IN-right {display:inline-block !important;float:left !important;overflow:visible !important;position:relative !important;height:18px !important;padding-left:2px !important;line-height:1px !important;cursor:pointer !important;}#li_ui_li_gen_1421432617782_1.IN-right {display:block !important;float:left !important;height:18px !important;margin-right:4px !important;padding-right:4px !important;background-image:url(https://static.licdn.com/scds/common/u/images/apps/connect/sprites/sprite_connect_v14.png) !important;background-color:transparent !important;background-repeat:no-repeat !important;background-position:right -100px !important;}#li_ui_li_gen_1421432617782_1-inner.IN-right {display:block !important;float:left !important;padding-left:8px !important;text-align:center !important;background-image:url(https://static.licdn.com/scds/common/u/images/apps/connect/sprites/sprite_connect_v14.png) !important;background-color:transparent !important;background-repeat:no-repeat !important;background-position:0px -60px !important;}#li_ui_li_gen_1421432617782_1-content.IN-right {display:inline !important;font-size:11px !important;color:#04558B !important;font-weight:bold !important;font-family:Arial, sans-serif !important;line-height:18px !important;padding:0 5px 0 5px !important;}#li_ui_li_gen_1421432617782_1-container.IN-empty {display:none !important;}#li_ui_li_gen_1421432617782_1-container.IN-hidden #li_ui_li_gen_1421432617782_1 {display:none !important;}</style><style type="text/css">.fb_hidden{position:absolute;top:-10000px;z-index:10001}.fb_invisible{display:none}.fb_reset{background:none;border:0;border-spacing:0;color:#000;cursor:auto;direction:ltr;font-family:"lucida grande", tahoma, verdana, arial, sans-serif;font-size:11px;font-style:normal;font-variant:normal;font-weight:normal;letter-spacing:normal;line-height:1;margin:0;overflow:visible;padding:0;text-align:left;text-decoration:none;text-indent:0;text-shadow:none;text-transform:none;visibility:visible;white-space:normal;word-spacing:normal}.fb_reset>div{overflow:hidden}.fb_link img{border:none}
.fb_dialog{background:rgba(82, 82, 82, .7);position:absolute;top:-10000px;z-index:10001}.fb_reset .fb_dialog_legacy{overflow:visible}.fb_dialog_advanced{padding:10px;-moz-border-radius:8px;-webkit-border-radius:8px;border-radius:8px}.fb_dialog_content{background:#fff;color:#333}.fb_dialog_close_icon{background:url(http://static.ak.fbcdn.net/rsrc.php/v2/yq/r/IE9JII6Z1Ys.png) no-repeat scroll 0 0 transparent;_background-image:url(http://static.ak.fbcdn.net/rsrc.php/v2/yL/r/s816eWC-2sl.gif);cursor:pointer;display:block;height:15px;position:absolute;right:18px;top:17px;width:15px}.fb_dialog_mobile .fb_dialog_close_icon{top:5px;left:5px;right:auto}.fb_dialog_padding{background-color:transparent;position:absolute;width:1px;z-index:-1}.fb_dialog_close_icon:hover{background:url(http://static.ak.fbcdn.net/rsrc.php/v2/yq/r/IE9JII6Z1Ys.png) no-repeat scroll 0 -15px transparent;_background-image:url(http://static.ak.fbcdn.net/rsrc.php/v2/yL/r/s816eWC-2sl.gif)}.fb_dialog_close_icon:active{background:url(http://static.ak.fbcdn.net/rsrc.php/v2/yq/r/IE9JII6Z1Ys.png) no-repeat scroll 0 -30px transparent;_background-image:url(http://static.ak.fbcdn.net/rsrc.php/v2/yL/r/s816eWC-2sl.gif)}.fb_dialog_loader{background-color:#f6f7f8;border:1px solid #606060;font-size:24px;padding:20px}.fb_dialog_top_left,.fb_dialog_top_right,.fb_dialog_bottom_left,.fb_dialog_bottom_right{height:10px;width:10px;overflow:hidden;position:absolute}.fb_dialog_top_left{background:url(http://static.ak.fbcdn.net/rsrc.php/v2/ye/r/8YeTNIlTZjm.png) no-repeat 0 0;left:-10px;top:-10px}.fb_dialog_top_right{background:url(http://static.ak.fbcdn.net/rsrc.php/v2/ye/r/8YeTNIlTZjm.png) no-repeat 0 -10px;right:-10px;top:-10px}.fb_dialog_bottom_left{background:url(http://static.ak.fbcdn.net/rsrc.php/v2/ye/r/8YeTNIlTZjm.png) no-repeat 0 -20px;bottom:-10px;left:-10px}.fb_dialog_bottom_right{background:url(http://static.ak.fbcdn.net/rsrc.php/v2/ye/r/8YeTNIlTZjm.png) no-repeat 0 -30px;right:-10px;bottom:-10px}.fb_dialog_vert_left,.fb_dialog_vert_right,.fb_dialog_horiz_top,.fb_dialog_horiz_bottom{position:absolute;background:#525252;filter:alpha(opacity=70);opacity:.7}.fb_dialog_vert_left,.fb_dialog_vert_right{width:10px;height:100%}.fb_dialog_vert_left{margin-left:-10px}.fb_dialog_vert_right{right:0;margin-right:-10px}.fb_dialog_horiz_top,.fb_dialog_horiz_bottom{width:100%;height:10px}.fb_dialog_horiz_top{margin-top:-10px}.fb_dialog_horiz_bottom{bottom:0;margin-bottom:-10px}.fb_dialog_iframe{line-height:0}.fb_dialog_content .dialog_title{background:#6d84b4;border:1px solid #3a5795;color:#fff;font-size:14px;font-weight:bold;margin:0}.fb_dialog_content .dialog_title>span{background:url(http://static.ak.fbcdn.net/rsrc.php/v2/yd/r/Cou7n-nqK52.gif) no-repeat 5px 50%;float:left;padding:5px 0 7px 26px}body.fb_hidden{-webkit-transform:none;height:100%;margin:0;overflow:visible;position:absolute;top:-10000px;left:0;width:100%}.fb_dialog.fb_dialog_mobile.loading{background:url(http://static.ak.fbcdn.net/rsrc.php/v2/ya/r/3rhSv5V8j3o.gif) white no-repeat 50% 50%;min-height:100%;min-width:100%;overflow:hidden;position:absolute;top:0;z-index:10001}.fb_dialog.fb_dialog_mobile.loading.centered{max-height:590px;min-height:590px;max-width:500px;min-width:500px}#fb-root #fb_dialog_ipad_overlay{background:rgba(0, 0, 0, .45);position:absolute;left:0;top:0;width:100%;min-height:100%;z-index:10000}#fb-root #fb_dialog_ipad_overlay.hidden{display:none}.fb_dialog.fb_dialog_mobile.loading iframe{visibility:hidden}.fb_dialog_content .dialog_header{-webkit-box-shadow:white 0 1px 1px -1px inset;background:-webkit-gradient(linear, 0% 0%, 0% 100%, from(#738ABA), to(#2C4987));border-bottom:1px solid;border-color:#1d4088;color:#fff;font:14px Helvetica, sans-serif;font-weight:bold;text-overflow:ellipsis;text-shadow:rgba(0, 30, 84, .296875) 0 -1px 0;vertical-align:middle;white-space:nowrap}.fb_dialog_content .dialog_header table{-webkit-font-smoothing:subpixel-antialiased;height:43px;width:100%}.fb_dialog_content .dialog_header td.header_left{font-size:12px;padding-left:5px;vertical-align:middle;width:60px}.fb_dialog_content .dialog_header td.header_right{font-size:12px;padding-right:5px;vertical-align:middle;width:60px}.fb_dialog_content .touchable_button{background:-webkit-gradient(linear, 0% 0%, 0% 100%, from(#4966A6), color-stop(.5, #355492), to(#2A4887));border:1px solid #2f477a;-webkit-background-clip:padding-box;-webkit-border-radius:3px;-webkit-box-shadow:rgba(0, 0, 0, .117188) 0 1px 1px inset, rgba(255, 255, 255, .167969) 0 1px 0;display:inline-block;margin-top:3px;max-width:85px;line-height:18px;padding:4px 12px;position:relative}.fb_dialog_content .dialog_header .touchable_button input{border:none;background:none;color:#fff;font:12px Helvetica, sans-serif;font-weight:bold;margin:2px -12px;padding:2px 6px 3px 6px;text-shadow:rgba(0, 30, 84, .296875) 0 -1px 0}.fb_dialog_content .dialog_header .header_center{color:#fff;font-size:16px;font-weight:bold;line-height:18px;text-align:center;vertical-align:middle}.fb_dialog_content .dialog_content{background:url(http://static.ak.fbcdn.net/rsrc.php/v2/y9/r/jKEcVPZFk-2.gif) no-repeat 50% 50%;border:1px solid #555;border-bottom:0;border-top:0;height:150px}.fb_dialog_content .dialog_footer{background:#f6f7f8;border:1px solid #555;border-top-color:#ccc;height:40px}#fb_dialog_loader_close{float:left}.fb_dialog.fb_dialog_mobile .fb_dialog_close_button{text-shadow:rgba(0, 30, 84, .296875) 0 -1px 0}.fb_dialog.fb_dialog_mobile .fb_dialog_close_icon{visibility:hidden}
.fb_iframe_widget{display:inline-block;position:relative}.fb_iframe_widget span{display:inline-block;position:relative;text-align:justify}.fb_iframe_widget iframe{position:absolute}.fb_iframe_widget_fluid_desktop,.fb_iframe_widget_fluid_desktop span,.fb_iframe_widget_fluid_desktop iframe{max-width:100%}.fb_iframe_widget_fluid_desktop iframe{min-width:220px;position:relative}.fb_iframe_widget_lift{z-index:1}.fb_hide_iframes iframe{position:relative;left:-10000px}.fb_iframe_widget_loader{position:relative;display:inline-block}.fb_iframe_widget_fluid{display:inline}.fb_iframe_widget_fluid span{width:100%}.fb_iframe_widget_loader iframe{min-height:32px;z-index:2;zoom:1}.fb_iframe_widget_loader .FB_Loader{background:url(http://static.ak.fbcdn.net/rsrc.php/v2/y9/r/jKEcVPZFk-2.gif) no-repeat;height:32px;width:32px;margin-left:-16px;position:absolute;left:50%;z-index:4}</style></head>

<body class="single single-post postid-60833 single-format-standard custom-background group-blog" style="display: block;">
		<nav class="site-navigation">
	<div class="navbar navbar-default navbar-fixed-top">
		<div class="container">
			<div class="navbar-header">
				<!-- .navbar-toggle is used as the toggle for collapsed navbar content -->
				<button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-responsive-collapse">
					<span class="sr-only">Toggle navigation</span>
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
				</button>
				<p id="search-icon-link" class="pull-right visible-xs navbar-text">
				    <a href="http://coronalabs.com/search"><span class="glyphicon glyphicon-search"></span></a>		
				</p>
				<!-- Your site title as branding in the menu -->
				<a class="navbar-brand" href="http://coronalabs.com/" title="Corona Labs" rel="home"><span class="visible-xs">Corona Labs</span></a>
		  	</div>

			<div id="download-link" class="navbar-right hidden-xs hidden-sm">
			    <a href="https://developer.coronalabs.com/downloads/coronasdk" class="btn btn-corona btn-sm navbar-btn">Download</a>
			</div>
			<div id="user-account-top-bar" class="navbar-right hidden-xs">
			    <div id="user-account-container">
			        <div id="top-download-signin"><a href="https://developer.coronalabs.com/user/login" id="" class="btn btn-primary btn-sm navbar-btn" target="_parent">Sign-in</a></div>
			        <div id="top-user-account" class="hidden"></div>
			    </div>
			</div>
			<div class="search-link pull-right hidden-xs">
			    <button type="button" id="search-icon" class="btn btn-link navbar-btn"><span class="glyphicon glyphicon-search"></span></button>		
			</div>
            <form id="search_form" class="navbar-form navbar-right hidden" role="search" method="get" action="http://coronalabs.com/search/">
                <a href="http://coronalabs.com/blog/2015/01/13/tutorial-creating-android-tv-apps/#" class="search-close btn btn-sm hidden-xs"><span class="glyphicon glyphicon-remove-circle"></span></a>
                <div class="input-group input-group-sm">
		            <input name="q" id="s" type="search" class="search-query top-nav-search form-control" placeholder="Site Search">
		            <span class="input-group-btn">
		    			<button class="btn btn-default" type="submit"><span class="glyphicon glyphicon-search"></span></button>
		  			</span>
                </div>
            </form>
			<!-- The WordPress Menu goes here -->
			<div class="collapse navbar-collapse navbar-responsive-collapse"><ul id="main-menu" class="nav navbar-nav"><li id="menu-item-60549" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item-60549 dropdown"><a href="http://coronalabs.com/start-building/" data-toggle="dropdown" data-target="#" class="dropdown-toggle">Start Building <span class="caret"></span></a>
<ul class="dropdown-menu">
	<li id="menu-item-60351" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-60351"><a href="http://coronalabs.com/start-building/games/">Games</a></li>
	<li id="menu-item-60354" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-60354"><a href="http://coronalabs.com/start-building/business-apps/">Business Apps</a></li>
	<li id="menu-item-60355" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-60355"><a href="http://coronalabs.com/start-building/education-kid-apps/">Educational Apps</a></li>
</ul>
</li>
<li id="menu-item-59603" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item-59603 dropdown"><a href="http://coronalabs.com/products/" data-toggle="dropdown" data-target="#" class="dropdown-toggle">Products <span class="caret"></span></a>
<ul class="dropdown-menu">
	<li id="menu-item-60356" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-60356"><a href="http://coronalabs.com/products/corona-sdk/">Corona SDK</a></li>
	<li id="menu-item-60361" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-60361"><a href="http://coronalabs.com/products/enterprise/">Corona Enterprise</a></li>
	<li id="menu-item-59626" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-59626"><a target="_blank" href="http://coronacards.com/">CoronaCards</a></li>
	<li id="menu-item-60360" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-60360"><a href="http://coronalabs.com/products/support-training/">Support &amp; Training</a></li>
</ul>
</li>
<li id="menu-item-60353" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-60353"><a href="http://coronalabs.com/pricing/">Pricing</a></li>
<li id="menu-item-60358" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item-60358 dropdown"><a href="http://coronalabs.com/resources/" data-toggle="dropdown" data-target="#" class="dropdown-toggle">Resources <span class="caret"></span></a>
<ul class="dropdown-menu">
	<li id="menu-item-59624" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-59624"><a href="http://forums.coronalabs.com/">Forum</a></li>
	<li id="menu-item-59625" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-59625"><a href="http://docs.coronalabs.com/">Documentation</a></li>
	<li id="menu-item-59601" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-59601"><a href="http://coronalabs.com/resources/tutorials/">Corona University</a></li>
	<li id="menu-item-60350" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-60350"><a href="http://coronalabs.com/resources/plugins/">Corona Plugin Directory</a></li>
	<li id="menu-item-60357" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-60357"><a href="http://coronalabs.com/resources/">Other Resources</a></li>
</ul>
</li>
<li id="menu-item-59619" class="menu-item menu-item-type-post_type menu-item-object-page current_page_parent menu-item-59619"><a href="http://coronalabs.com/blog/">Blog</a></li>
</ul></div>		</div><!-- .container -->
	</div><!-- .navbar -->
</nav><!-- .site-navigation -->

<header id="masthead" class="site-header" role="banner">
	<div class="container">
		<div class="row">
			<div class="site-header-inner col-sm-12">
							</div>
		</div>
	</div><!-- .container -->
</header><!-- #masthead -->
<div class="container hidden-xs">
  <div class="row">
    <div class="col-md-12">
    <div id="fuse-branding"><a href="http://fusepowered.com/" target="_blank"><img src="./PageCurl_files/FusePowered_branding_sm.png" alt="A Fuse Powered Company"></a></div>
    </div>
  </div>
</div><div class="main-content">
    <div id="content-wrapper" class="container">

				
					
	<div class="row">
		<div class="col-md-12">
			<ol class="breadcrumb"><li><a href="http://coronalabs.com/blog/">Blog</a></li> <li><a href="http://coronalabs.com/blog/topics/guest-bloggers/">Guest Bloggers</a> </li> <li class="active">Tutorial: Creating Android TV Apps</li></ol>			<header class="page-header">

				<h1 class="page-title h1">Implementing a page curl widget</h1>
				<h6 class="text-muted text-small"><i><span class="posted-on">Posted on <a href="./PageCurl_files/Coroutines.html" title="2:03 pm" rel="bookmark"><time class="entry-date published" datetime="2015-01-13T14:03:25+00:00">January 13, 2015</time></a></span><span class="byline"> by <span class="author vcard"><a class="url fn n" href="http://coronalabs.com/blog/author/brent/" title="View all posts by Brent Sorrentino">Brent Sorrentino</a></span></span></i></h6>
			</header><!-- .entry-header -->
		</div>
	</div>
	
    <div class="row">
		<div class="main-content-inner col-xs-12 col-sm-8 col-md-8">
			<article id="post-60833" class="post-60833 post type-post status-publish format-standard has-post-thumbnail hentry category-guest-bloggers category-tutorials-tips-demos tag-android-tv tag-tutorial">	
				<div class="entry-content">
					<p><em>Today’s guest tutorial comes to you courtesy of X.</em></p>
<hr>






<div style="float:right"><img src="./images_pagecurl/inner_shadows.jpg" width="130" height="124" alt="Inner shadows"></div>

<p>Page curls can bring a little flair to many sorts of applications. They seem to be a particularly popular effect in e-books, helping to evoke some of the feeling
of a physical book.</p>

<p>There have already been some Corona implementations, using masks for instance. A couple examples are found
<a href="https://coronalabs.com/blog/2011/12/05/how-to-create-a-page-curl-in-corona/">here</a> and <a href="http://developer.coronalabs.com/node/29465">here</a>.</p>

<p>The recent availability of custom shaders has made further refinements possible. I implemented a few of them, and this article explores
how I went about it.</p>

<H3><a name="background"></a>Background material</H3>

<p>My effect relies extensively on two-dimensional geometry, (circles) and (vectors) in particular, and a few sections will inevitably reflect that. If you find the need
to familiarize yourself with this background material, please refer to my previous articles. <b>(TODO:</b> links<b>)</b></p>

<H3><a name="analysis"></a>Some preliminary analysis</H3>

<p>This began life in a (forum thread) posted by Tom Greger Knutsen, AKA <b>sirmania</b> <b>(TODO:</b> info<b>)</b>. At the time I was knee-deep in some rather out-there
effects, so I was busy on the one hand but ready for something down-to-earth on the other. While it sounded interesting, it looked like it would need to wait. If there were
no takers in the meantime, I could dive into it once other matters were squared away. In any event, this would give the ideas a chance to work themselves out a bit.
<b>(TODO:</b> link, expand, etc.<b>)</b></p>

<p>Tom posted a couple videos showing (what he was after), which demonstrated the effect as found in certain GUI suites. I took a look and began to puzzle out what
must be going on. <b>(TODO:</b> link<b>)</b></p>

<p>The whole idea, of course, is that the curl should bear at least some resemblance to a physical page, being turned by a finger or two. We generally do this without
putting much thought into it; the experience tends to be consistent. Uncurled paper is (almost) indistinguishable from a rigid image, <i>mutatis mutandis</i>, so the
effect probably would work best having this as its reference state.</p>

<p>With these thoughts in mind, the first order of business was to grab a sheet of paper and start rolling the edges around with my finger. As scientific discovery goes,
this rather pales next to Tesla with (megavolts of raw power) splashing all around him, but all the same it helped to clarify some details. <b>(TODO:</b> images<b>)</b></p>

<p>The curling part of the sheet looks a lot like a cylinder, especially when you start from a corner and continue diagonally. Once you veer off this line, one end or
the other starts to taper, so we have something like a stunted cone. The math is a little simpler in the former case, so I decided to give it a try. In the end, cylinders
appear to work just fine.</p>

<p>I figured shaders would let me best attend to a lot of the fine detail, so some of the structural details were also important. Seen in profile, a cylinder (or a
<a href="https://en.wikipedia.org/wiki/Conic_section#Features">cone</a>, for that matter) has a <a href="http://mathworld.wolfram.com/CylindricSection.html">circular
cross-section</a>. Approached at an angle, however, this becomes an ellipse, whose arc length is <a href="https://en.wikipedia.org/wiki/Elliptic_integral">difficult</a>
to measure&mdash;which is unfortunate, since we do a lot of this! The page could be curling all over the place, so I was worried I would indeed have to handle this
more general shape. Thankfully, my luck held out, as I began with the easier circle case and it turned out well.</p>

<p>Lastly, at the scale of a page in a book, paper tends to be rigid enough that, after traversing a half-cylinder or -cone, it remains fairly flat, or close enough
at a glance. Working under this assumption, I was able to restrict page behavior to a manageable four possible scenarios: uncurled, lower curl, upper curl, and leveling
out.</p>

<H3><a name="synopsis"></a>Synopsis</H3>

<p>After asking a few questions in the forum to see if anyone had any strong opinions about how the interface should look, I camped out for a few weeks. My thinking was
that, if I were the one who took this on, I would begin with the touch controls, to "get them out of the way".</p>

<p>Anyhow, a few weeks went by. As expected, I had some good meditations on the ideas. my earlier commitments, while not quite complete, were at least well along. As is
the way of things, I dipped my toes into the water a bit for a couple days. Then I dove in. A night or two and I had the effect approximately working.</p>

<p>Now, this is not to say it was beautifully crafted. This was one specific case and split up across several display objects. But the curling behavior was there, and
probably shadows and such as well.</p>

<p>To my great surpise, Julian Stokoe AKA <b>kilopop</b> <b>(TODO:</b> info<b>)</b> took what I posted and ran with it, building some (screen transition effects) from it.
He already had some ideas with it, which I answered by pointing out how and where to edit the code. Suffice it to say, this was exactly the same sort of material I was
fishing for with my initial informal survey, so I started pondering how, as I progressed, to better structure the curl to accommodate such possibilities, as well as others
that would emerge.</p>

<p>His particular needs, arising from needing to capture the screen, meant that a lot of video RAM was being consumed, on account of my design using several display
objects to supply the components of the effect. This is a (viable approach), but this particular use case entails full-screen behavior and thus necessarily lots of pixels,
which in turn translate to lots of RAM. I noted him asking around about this point and figured, if I was already seeing this need so early, better to nip it in the bud.
Thus, I revisited the shader implementation and streamlined it to accommodate each of the curl situations. <b>(TODO:</b> link to Corona Geek episode<b>)</b></p>

<div style="float:right"><img src="./images_pagecurl/various_effects.jpg" width="390" height="204" alt="Various other effects"></div>

<p>When I first reviewed the videos Tom provided, it stood out to me that the back of the flipped page simply used the front texture. Books, of course, usually populate
that side with a fresh page of text, so I had at least this in mind. Among Julian's inquiries was that of leaving the back of the page blank, as well as only tinting
that side. These two considerations more or less dovetailed, and helped beat the shader into the proper shape.</p>

<p>Thus a fairly general structure followed. The page image could be duplicated on both sides, different on each, blank on one, or even blank on both&mdash;as is fairly
common in the front matter of books. Captures were still sort of the odd man out, so I simply allowed an "external object" approach to include objects instantiated
outside the page effect.</p>

<div style="float:left"><img src="./images_pagecurl/two_sides.jpg" width="230" height="188" alt="Two images, one per side"></div>

<p>Meanwhile, I was trying to work out a decent interface. In doing so, I was deliberating the introduction of various page constructors beyond those just mentioned,
mostly mirroring Corona's display object APIs: images, of course, but also rects, perhaps circles, sprites, and so on.</p>

<p>Apart from the redundancy of the whole thing, the problem was that my abstractions ran up against some real-life needs of Corona. Sprites in particular flushed these
out: any given frame uses only part of a texture, but some other considerations, described below, mean I had to expand the texture coordinates, which in turn means I
would need a nice unit rectangle in which to operate. Goodbye sprites!</p>

<p>This was an ugly corner case, but there was no real getting around it, leading me to scuttle this approach. As I thought about it more, it became obvious that I
could simply allow snapshots, and then the user could populate it with all those same objects. They could even apply their own effects to said objects, which was
another limitation that was becoming clear to me. And so it was decided.</p>

<p>Well, nearly everything needed to integrate snapshots was enough to bring in captures, too. Thus, the hackish "external object" approach was abandoned and I just
brought in captures wholesale.</p>

<p>In the process of doing all this, the API more or less suggested itself. It seemed increasingly clear that I ought to brand this as a sort of widget, since it would
typically be an interface element. That said, nothing holds it back from being used more broadly.</p>

<p>All the while I put off touch. From having watched the videos I was not quite sure what was going on. My initial suspicions were that it was necessary to track one's
current position and work from there. As I began, I almost despaired, realizing how onerous that would be!</p>

<p>Sooner or later I found that it was simpler, and thought things would move along quickly. I was wrong! Much time was spent puzzling out the math, with untold numbers
of near-solutions that quickly diverged from your touch. Eventually, however, I had breakthroughs. Though in many cases I would have what appeared to be a perfect
solution to one case only to find it seemed to violate the other, making me doubt the former. These more or less resolved in the end, but it was frustrating in the
meantime.</p>

<p>Once I had that more or less in place, I revisited the shader. Up to then it was rather broken up to account for each possibility. But I went ahead and streamlined
it, and made it so that each case was generated on demand. A little more information will be provided on this, further down.</p>

<p>Following a few more fixes, I was all ready to bring up my newest results when I noticed Tom's original need to deal with two directions. Whoops! Thankfully, I had
at least wondered about this and generalized the touch code enough to handle the left and right sides on their own. It was only a little more work to allow two sides
at once (and would only be a little more to open three or all four).</p>

<p>After a little stress-testing, it was off to the <a href="https://store.coronalabs.com/plugin/page-curl">store</a>!</p>

<H3><a name="effect"></a>The effect</H3>

<p>Enough with the history, on to the effect!</p>

<p>When left alone, a page looks like any other texture, as pointed out earlier, so we take this as our point of departure.</p>

<p>Once we begin curling, the edge of the page gradually assumes cylindrical form. Any cylinder must roll around something, namely its axis, so it follows that something
like this must exist. This being a circular cylinder, a parallel strip would run along the surface, just where it was "taking off". At the same time, there is a very
definite sense of "forward".</p>

<p>I decided to start with the latter. No obvious alternatives came to mind as far as being able to control the effect programmatically. It would be incumbent on the
user to either know some geometry or be able to follow a few guidelines, but that comes with the territory.</p>

<p>Since this is essentially a pure texture effect, it makes sense to work in texture space: $ [0, 1] \times [0, 1] $. As a bonus, this renders irrelevant most concerns
about dimensions.</p>

<div style="float:right"><img src="./images_pagecurl/edge_point_normal.jpg" width="195" height="240" alt="Edge, point, and normal"></div>

<p>The forward direction will be given by an angle. Both degrees and radians are provided&mdash;one simply builds on the other. Accepting this as an angle is meant as
a convenience to the user: one angle might be enough, or a transition will vary over a narrow enough range, that providing a (normalized) vector would be a hassle.</p>

<p>The forward edge has a location, of course. Given the forward direction, we can use (point-normal form), meaning we just need a point&mdash;any will do&mdash;along
this edge to specify the whole. These points are specified in the aforementioned texture space.</p>

<p>The image on the right shows how this all transpires. The dashed blue line simultaneously represents the axis as well as the parallel edge where the curl begins,
obscured in this case by the back page overlapping it. The green dot marks a point along that same edge, again underneath. The short red line emanating from this point
is the direction along which the effect travels. As this shows, it only goes a very short distance before rolling around and coming back the other way.</p>

<p>The foregoing assumes a straight-down view of the page, rather than looking at it aslant. I am not aware of an implementation that does otherwise. This enables a
fairly intuitive geometric approach.</p>

<H3><a name="graphics-options"></a>Various graphical options</H3>

<img src="./images_pagecurl/sample_image.jpg" width="400" height="219" alt="Plugin sample">

<p>The above image, taken from from the plugin's sample application, shows the various available options, along with a partially curled page.</p>

<p>Going down the right-hand sidebar, we begin with the number of images. A page has a front and back. The one-image case comes first: here, the same image is used on
both sides, as shown above. Two images means a separate image is used per side, as seen further up. No images, meanwhile, leaves both sides blank.</p>

<p>Next up is the back texture method. This is only relevant in the one-image case. By default, we get the aforementioned both-sides behavior. But if desired, the
back of the page can be left blank.</p>

<p>Continuing, we come to the color method. This is where those color sliders in the bottom-left come into play. In "both" mode, the front and back are tinted by this
color. "Front" and "back" modes, meanwhile, will tint only their respective sides. This is seen further up, where a blank surface with back-only behavior is tinted a
light blue. A color of white, the default, is effectively "no tint".

<p>The edge effect is some behavior applied around the back edges of the page. In the above image, the basic behavior, simply styled "edge", is in use: a black tint
along the edge to make it stand out against the background. "None" will forgo any special behavior, which might be undesirable if both sides are fairly similar-looking.
Lastly we have "shadow", as seen in the blue-tinted image above, where a soft shadow is visible around the edges.</p>

<p>The edge behaviors by no means exhaust the possibilities (indeed, I probably should have included some of my interesting "mistakes"), and are grouped together mainly
because of their similar implementation, but offer at least a couple decent options. Perhaps some redesign will come down the road, though obviously it would be best
not to break the API where possible.</p>

<p>Because these all occur "on top", they might admit of being implemented with separate display objects, which would simplify the shader a bit and remove a per-pixel
operation that is only being applied to a relatively small part of the visual surface. Positioning these proxy objects seems feasible using the mechanisms built for
touch controls, which will be explained shortly. This also suggests adding features such as specular highlights.</p>

<p>Expansion, elaborated upon below, determines whether the surface should be clipped. An instance of this can be seen in the blue-tinted image, along the top and
bottom, as contrasted with the dual-sided image, which spills off the "base" rectangle. Generally you will leave this alone.</p>

<p>Finally, we have inner shadows, which may be disabled. These are fairly subtle, but can be seen in the slightly curled white page at the outset of the article. The
effect is meant to exhibit some of the self-shadowing that occurs in the lower curl as the cylindrical shape takes hold.</p>

<H3><a name="thinking-local"></a>Thinking local</H3>

<div style="float:right"><img src="./images_pagecurl/local_space.jpg" width="195" height="240" alt="Local coordinate system"></div>

<p>At a high level, the basic idea is, at every step along the edge (the dotted line in the right-hand image, though "below" the curled-over part), following the "x-axis",
to march forward along the "y-axis". These axes are part of a local coordinate system, of course. We march until we hit the edge of the page. This might involve walking
along the cylinder, of course, so the edge could be behind where we started.</p>

<p>That is actually too simple of an explanation, however, even if it already sounds anything but!</p>

<div style="float:left"><img src="./images_pagecurl/close_up_pixel.jpg" width="137" height="105" alt="Close-up of a pixel"></div>

<p>The lion's share of this process will take place in a shader. These adhere to a different paradigm than the top-down one we might use to write this in Lua, iterating
down the axis one step at a time and doing a secondary traversal along the forward direction at each of those. Rather, each pixel is like a drop in a visual ocean,
passively awaiting orders. None of these pixels know much about their neighbors, beyond any context given to them before drawing begins.<p>

<p>This allows massive optimization: by cordoning the pixels off from one another, the GPU can go wild and execute huge batches of pixels more or less simultaneously,
without worrying about them stepping on one another's toes, as it were.<p>

<p>Often this also mean a pixel must do some work to get its bearings. This is so in the page curl effect. Every pixel must figure out for itself its place in the grand
scheme of things.</p>

<H3><a name="lower-curl"></a>Winding up...</H3>

<p>As stated earlier, when and where nothing is happening, the page is flat, essentially a normal image. This means axis the edge point is on one of the sides of the
rectangle, so the edge is flush with it as well. This is the "uncurled" state.</p>

<p>When the point is within the interior, however, the page begins curling immediately from the axis in the forward direction. The underlying cylinder has a reasonable
radius, hereafter $R$, and the curl will begin by tracing a quarter turn around it. This is the "lower curl" state.</p>

<p><b>(NOTES:</b> Ugh, this is an utter dog to write :P <b>)</b></p>

<p>We proceed forward, walking over pixels, until we exceed the radius. Once curling is in effect, some of this length gets spent, as it were, wrapping around the
cylinder. Such pixels can be rejected. At that point, we know the cylinder will turn back again, so we can stop this phase. Of course, when the edge is close enough
to the edge of the rectangle, the edge of the cylinder might not be reached. For that matter, when slanted, the length will vary all along the axis.</p>

<p>Now, as the last section pointed out, we are coming at this the other way around. The curtain lifts on us, and we find ourselves in the middle of a play already going
on. We need to figure it if we even belong here.</p>

<p>The shader is given a bit of context to work from: the edge point and normal, hereafter $ \mathbf{x} $ and $ \mathbf{n} $, respectively. $ \mathbf{n} $ is the "forward
direction", evaluated from the angle passed in earlier, and a unit vector.</p>

<p>In traversing up to the radius, we have basically been talking about the pixel's $y$ coordinate, locally speaking.</p>

<p>Getting its component in the y-axis is fairly simple: $ \dotvwparen{n}{x - p} = n_y. $</p>

<p>Since $ \mathbf{n} $ is normalized, this is in the same units as the radius. Since the curl is going forward, then, we know our pixel is still legal if $ 0 \le y \le R $.
If not, we just emit a clear pixel and quit. Otherwise, we might be on the lower curl. (This "might" is important.)</p>

<p>We might also run out of texture before we walk the whole half radius, though! Because the axis can be oriented rather arbitrarily, we might only be curling a small corner,
though logically this is wrapped around a larger cylinder. This is basically a bounds check on the texture coordinate: are either of them less than zero or greater than one?
This logic is streamlined a bit to account for any stage of the effect.</p>

<p>As far as the pixel itself, we run into a big gotcha. If we try to sample the texture naively, as if the point were simply the linear distance away from the edge, the
texture will get all scrunched at the curl. This is because such a strategy fails to take into account how some of the length is diverted into the roll.</p>

<p>What we need to do is leave off linear distance at the edge and use the arc length of the cylinder's cross section circle.</p>

<p>The y-axis being forward, the circle looks like the image, so this length is $ R\sin\theta $. We can rearrange this as $ \sin\theta = {n_y \over R}. $ [image]</p>

<p>Arc length requires the angle, so we solve for it: $ \theta = \sin^{-1}{n_y \over R}. $</p>

<p>The final length, then, will be $ R\theta $. This is how far we must walk alonge $ \mathbf{n} $ from the edge point. Then we go "left" or "right", parallel to the edge,
by $n_x$ to land at the appropriate texture coordinate.</p>

<H3><a name="upper-curl"></a>...coming back around...</H3>

<p>Since the two quarters of the half-cylinder are stacked vertically, the upper curl is basically the same situation, with respect to where it is along the y-axis. Thus
the "might" earlier, pertaining to the lower curl. If we had enough arc length to get here, this is an upper curl pixel, otherwise lower.</p>

<p>For that reason, this case should actually be handled first. Unlike lower down, if we run out of texture, we might still be able to draw the pixel below us. The shader
is structured with this in mind. This is also why the shadow edge effect works.</p>

<p>The angle, while not the same, will be symmetric. We can find it by subtracting $\theta$ from $\pi$, then get the final arc length from the result. As with the lower curl,
we use this amount to walk forward along the texture. Note that texture space is flat: we need not account for the curl there as we do with the effect proper.</p>

<H3><a name="on-the-plane"></a>...and leveling out</H3>

<p>After traversing the half-cylinder, we are suddenly behind the edge, so $n_y$ goes negative.</p>

<p>At this point, we enter the final stage, where the page levels out again. We can thus resume using a linear distance, which will be $ -n_y $. Having already traversed the
semicircle, however, we must incorporate that distance as well. In total, we then have $ \pi R - n_y $.</p>

<H3><a name="expansion"></a>You're out of bounds!</H3>

<p>Except when curled either perfectly horizontally or vertically, the page will spill outside the bounds of the underlying display object. If nothing is done, it will just
get clipped when it does this. (And this is provided as an option, since it might even make sense if the widget is full-screen or seen through a window or frame.)</p>

<p>I gave some thought to trying to track which direction the page was being curled and use one or two extra objects there, each with the page curl effect and some knowledge
of where they are. For instance, if the page slightly overflowed the top and left sides, use the original object for the bulk of the page, then a couple more placed over those
other regions.</p>

<p>However, the effect is meant to be used on snapshots and captures too. The way paints work right now, these cannot be passed as inputs, so the multi-object approach falls
apart. Either we need to hobble snapshots and captures, or find a separate approach.</p>

<p>It turns out that an approach that works for snapshots and captures can also be applied to normal images, so it gets used across the board. Basically, the underlying object
is made twice as large. In the shader, the texture coordinate ranges are remapped from $ [0, 1] $ to $ [{-.5}, 1.5] $.</p>

<p>This ends up putting the texture where it was before, but surrounded by emptiness, some of which might be occasionally occupied by a curled page leaf. The outside-the-page
logic mentioned earlier will usually emit clear pixels.</p>

<H3><a name="touch"></a>Touch controls</H3>

<p>The curl effect would be useful to only a few users if everything had to be done programmatically. The impetus behind the whole undertaking, after all, has been to simulate
leafing through a book, a rather tactile affair. Touch controls are vital.</p>

<p>The essentials are not terribly exciting or innovative: a basic grabbable region, managing the touch focus, a bit of filtering. These are the nuts and bolts of your average
Corona application.</p>

<p>I did end up providing a little bit of cushion in this region, as it felt very unnatural to grab slightly outside the border-sized region and have your touch fall flat.
These were clamped, of course, as were slightly off touches in the other direction.</p>

<p>Drags outside the rect are a bit of an ongoing issue. In a physical book, doing even a bit of this sort of thing would soon leave your page in tatters, but of course a
general-purpose plugin needs to be a bit more forgiving. Clamping is again an option, though it can be a bit jarring.</p>

<p>Some special clamping is needed right along the edge of the page itself, right around where it can be grabbed. Dragging vertically here results in abrupt and unpredictable
rolls of the page. My current solution has been to use a <a href="https://en.wikipedia.org/wiki/Chebyshev_filter#Type_II_Chebyshev_filters">Type II Chebyshev filter</a>. This
gives a scale factor that stays very close to one up until just shy of the grab point, then drops like a stone toward zero. It then starts to ripple, but we no longer need it.
This allows for a continuous but sharp approach.</p>

<p>Now, the effect itself came about pretty quickly, so I figured making the curl track the touch would not be so bad. I was wrong! This was an utter beast, with one almost-
solution-but-ultimate-failure stab after another. In the meantime, the touch and curl would gradually drift away from one another, abruptly jump, and so on. Even as I worked
out the stages, they never all fell in place at once.</p>

<p>Anyhow, I did finally win through. All along I was on the track, merely getting snagged on one error or another. Whereas a pixel could quickly surmise its whereabouts and
then figure out where it came from, the touch knows how far from the edge it is and needs to say what length away the edge point must have from the edge. This is subtly but
powerfully more difficult. Thankfully the normal is not so bad.</p>

<H3><a name="starting-to-curl"></a>Back to the wind-up, now with touch</H3>

<p>As before, we first look at the lower quarter circle, when the page is just peeling away from the edge.</p>

<div style="float:left">
	<div style="margin: 0 auto; text-align: center; overflow: hidden;">
		<img src="./images_pagecurl/figure1.png" width="210" height="150" alt="Lower quarter circle">
		<div style="caption">Figure 1</div>
	</div>
</div>

<p>In this and the following sections, $D$ refers to the distance, starting from the side, that we must walk backward along $ \mathbf{n} $ to corresponding to arrive at our
touch. This is almost, but not quite, equal to the distance to the edge.</p>

<p>Between the point where it begins curling and the edge, we have some horizontal arc distance plus $D$. The way we unfurl the page (see the picture), we traverse a circle
counter-clockwise, with 0&deg; at the bottom and 90&deg; going right. So the horizontal distance will be $ R\sin\theta $, for a total distance of $ R\sin\theta + D $.</p>

<p>Now, as this is peeling away, the distance should be the arc length, which we know to be $ R\theta $.</p>

<p>Putting these together, we have $ R\sin\theta + D = R\theta $, which we can rearrange as $ {D \over R} = \theta - \sin\theta. $</p>

<H3><a name="numerical-solution"></a>Solving the angle numerically</H3>

<p>The terms on the right-hand side tickled my brain, and after a little investigation I found it shows up in the formulation of a
<a href="https://en.wikipedia.org/wiki/Cycloid#Equations">cycloid</a>. I wasted a little time trying to exploit this, but it seemed to be a dead end. What I did find, doing this,
was that no proper analytic solution is available for finding $ \theta. $</p>

<p>Now, $\theta$ can range from 0 to $ \pi \over 2 $, the latter being a little less than 1.6. If we look at $ \theta - \sin\theta $
<a href="http://www.mathsisfun.com/data/grapher-equation.html?func1=y%3Dx-sin(x)&xmin=-0.08180&xmax=1.919&ymin=-0.05575&ymax=1.445">up close</a>, it ends up being fairly smooth.</p>

<div style="float:right"><img src="./images_pagecurl/theta_minus_sin_theta.png" width="220" height="165" alt="Graph: theta - sin(theta)"></div>

<p>We can find this via <a href="https://en.wikipedia.org/wiki/Numerical_analysis">numerical techniques</a>. What I ended up doing was a
<a href="https://www.khanacademy.org/computing/computer-science/algorithms/intro-to-algorithms/a/a-guessing-game">binary search</a>. Start from the middle, see how close the
result is, when not too different, use the input, otherwise go left or right, do the same thing, etc.</p>

<p>This seemed to work well enough for me, but techniques such as <a href="http://mathworld.wolfram.com/NewtonsMethod.html">Newton's method</a> are also available.</p>

<p>Anyhow, once we find a $\theta$, we immediately find the arc length as $ R\theta $, which is what we need.</p>

<H3><a name="leveling-out"></a>Touch and leveling out</H3>

<p>Now, before we deal with the upper half, we should skip ahead and see the page as it starts to level out.</p>

<div style="float:right">
	<div style="margin: 0 auto; text-align: center; overflow: hidden;">
		<img src="./images_pagecurl/figure2.png" width="210" height="150" alt="Leveling out as a plane">
		<div style="caption">Figure 2</div>
	</div>
</div>

<p>A half-circle will already have been traversed, so a length of at least $ \pi R $ will already have been drawn up, putting us that far over at minimum. As we drag further over,
there will be some extra cushion, denoted above as $B$.</p>

<p>The half-circle will by definition have the radius $R$ as its width. As we drag further, we also have some cushion above, namely the leveled-out part, denoted by $x$.</p>

<p>All those distances are side by side, so we can add them up to get $D$: $ A + B + \pi R + R $.</p>

<p>The bottom length, of course, is everything but $A$: $ B + \pi R + R $.</p>

<p>As in the lower curl case, the bottom sum is the same as the arc length: $ x + \pi R $.</p>

<p>Equating the last two, we have: $ B + \pi R + R = A + \pi R, $ which reduces to $ A = B + R. $</p>

<p>By substituting this into the first equation, we have $ D = A + A + \pi R, $ which is $ D - \pi R = 2A, $ and $ A = {D - \pi R \over 2}. $</p>

<p>We want the arc length, of course, so we plug this back into the third equation and finally get $ D + \pi R \over 2 $.</p>

<H3><a name="curling-back"></a>Curling back around with touch</H3>

<p>Back to the upper curl. We now know our bounds.</p>

<div style="float:right">
	<div style="margin: 0 auto; text-align: center; overflow: hidden;">
		<img src="./images_pagecurl/figure3.png" width="210" height="150" alt="Upper quarter circle">
		<div style="caption">Figure 3</div>
	</div>
</div>

<p>As we mentioned in the level-out case, that will begin once an arc length of $ \pi R $ has been rolled up, and thus it also forms the left boundary.</p>

<p> The lower part will traverse $ \pi R \over 2 $, but the arc will also be complete and poking out by $R$, so we need to deduct that, too, giving us a right boundary of
$ {\pi R \over 2} - R $.</p>

<p>So we have an interior range of $ \pi R - \left({\pi R \over 2} - R \right) = {\pi R \over 2} + R $ to work with. The bottom quarter circle is already done, meaning $R$ has
been used up, but we have some cushion $A$ and $B$ on the sides, so these sum to $ \pi R \over 2 $.</p>

<p>The arc length will be $ R\alpha $, of course. The change in variable name will be covered shortly.</p>

<p>As before, this length is equivalent to the sum of the bottom parts except $A$. If we include $A$ as well, we get $ \pi R $. Keep this in mind, too.</p>

<p>The distance $D$ will be $ {\pi R \over 2} - R + B $, plus the horizontal distance traversed by the upper curl.</p>

<div style="float:left">
	<div style="margin: 0 auto; text-align: center; overflow: hidden;">
		<img src="./images_pagecurl/figure4.png" width="150" height="90" alt="Alpha and theta, close up">
		<div style="caption">Figure 4</div>
	</div>
</div>

<p>This is worth a closer look.</p>

<p>So, $\alpha$ is the angle relevant to the arc length, but "the rest" of the arc falls under $\theta$. So $ \alpha = \pi - \theta $.</p>

<p>We can see the horizontal length of the arc will be $ R - R\sin\theta $, and we can find $D$.</p>

<p>As mentioned, we can subtract $A$ from $ \pi R $ to get the sum of those bottom terms. But $ A = {\pi R \over 2} - B $, so this is $ \pi R - \left({\pi R \over 2} - B \right)
= {\pi R \over 2} + B. $ That sum is also the arc length, so we have $ {\pi R \over 2} + B = R(\pi - \theta). $</p>

<div style="float:right"><img src="./images_pagecurl/theta_plus_sin_theta.png" width="220" height="165" alt="Graph: theta + sin(theta)"></div>

<p>Now, we know $ D = {\pi R \over 2} - R + B + R + R\sin\theta. $ We can cancel the $R$ terms, and substitute to get $ D = R(\pi - \theta) - R\sin\theta = R\pi - R(\theta +
\sin\theta), $ and finally $ \pi - {D \over R} = \theta + \sin\theta. $
<a href="http://www.mathsisfun.com/data/grapher-equation.html?func1=y%3Dx%2Bsin(x)&xmin=-0.7490&xmax=3.283&ymin=-0.3113&ymax=2.713">Once again</a> we have a rather nice function,
so $\theta$ may be found using the same search strategy used in the lower curl stage.</p>

<p>Finally, we plug $\theta$ back in to find $\alpha$. Multiplying this by $R$, we have our arc length.</p>

<H3><a name="touch-details"></a>A touching farewell</H3>

<p>Rolling back. When a touch is released, the page will gradually unfurl through a transition. It will take into account where along the side the page was grabbed and rewind
the page accordingly.</p>

<p>Any of the four sides can be grabbed, and even a few combinations are available. Touch can also be disabled, either temporarily or permanently, say to give way to programmed
rolling. When disabled, the page will first snap back to unrolled state, unless otherwise requested.</p>

<p>Rather than rewriting logic for every side, the coordinates themselves are basically reinterpreted in reference to some preferred side (the right side). The curl state, once
computed, is then applied to that side.</p>

<H3><a name="shader"></a>The shader</H3>

<p>The effect supports quite a few options! Basically, this is one large ("<a href="https://github.com/aerys/minko/blob/master/doc/tutorial/21-Authoring_uber-shaders.md">uber</a>")
shader with a bunch of <code>#ifdef</code>s around various options, which are conditionally enabled. Doing so actually creates separate shaders for each.</p>

<p>Shaders are passed as source to Corona's <a href="https://docs.coronalabs.com/api/library/graphics/defineEffect.html">graphics.defineEffect</a> API, as a string. To enable
these options, a fragment with the appropriate <code>#define</code>s is prepended to the "master" shader and the shader compiled.</p>

<p>Of course, we only need to compile it once, so we check if this string has been registered. Certain options are unable to interact, so some care is taken to keep their
<code>#define</code>s from overlapping, as this might cause unnecessary duplicate compiles even where not necessary.</p>

<p>Two-factor properties. We immediately update the effect in progress, but also make a backup since we want to transplant these values when switching effects.</p>

<p>Shader reassignment is eager, which could cause hiccups if several changes are executed in sequence that would cause new shaders to be compiled, say during startup. If this
is the case, a batching API is on hand to accumulate these changes, then only register them at the end, avoiding any spurious intermediate new shaders.</p>

<H3><a name="events"></a>Some events</H3>

<p>It is useful to be able to do something during touch, so some grab, drag, and release events are provided.</p>

<H3><a name="region"></a>Grab region</H3>

<p>The grabbable parts are outside the purview of the widget, especially as far as styling goes, so these regions are invisible. However, where you can grab is not necessarily
obvious, and the user might want to give some graphical indication, so these regions may be queried.</p>

<H3><a name="summary"></a>Summary</H3>

<p>Huzzah!</p>


									</div><!-- .entry-content -->
					<div class="clearfix row" style="margin:4px 0;">
						<div class="fade-out clearfix">
							<!--Facebook Share Button-->
							<div style="float:left;"><div><div class="fb-like fb_iframe_widget" data-width="90" data-send="true" data-layout="button_count" data-href="http://coronalabs.com/blog/2015/01/13/tutorial-creating-android-tv-apps/" data-awesm-channel="facebook-like" data-awesm-tool="tCsvyd" data-height="20" data-ref="awesm:c1de8ed723c728ce036bd51b91310e76" fb-xfbml-state="rendered" fb-iframe-plugin-query="app_id=129391740409903&amp;height=20&amp;href=http%3A%2F%2Fcoronalabs.com%2Fblog%2F2015%2F01%2F13%2Ftutorial-creating-android-tv-apps%2F&amp;layout=button_count&amp;locale=en_US&amp;ref=awesm%3Ac1de8ed723c728ce036bd51b91310e76&amp;sdk=joey&amp;send=true&amp;width=90"><span style="vertical-align: bottom; width: 124px; height: 20px;"><iframe name="f285f3d6b4" width="90px" height="20px" frameborder="0" allowtransparency="true" scrolling="no" title="fb:like Facebook Social Plugin" src="./PageCurl_files/like.html" style="border: none; visibility: visible; width: 124px; height: 20px;" class=""></iframe></span></div></div></div>
					        <!--Twitter Tweet Button-->
					        <div style="float:left;margin:0 5px;width:86px;"><div><iframe src="./PageCurl_files/tweet_button.html" width="110" height="20" allowtransparency="true" frameborder="0" scrolling="no" tabindex="0" class="twitter-share-button twitter-count-undefined"></iframe></div></div>
					        <script src="./PageCurl_files/in.js" type="text/javascript">lang: en_US</script>
					        <span class="IN-widget" style="line-height: 1; vertical-align: baseline; display: inline-block; text-align: center;"><span style="padding: 0px !important; margin: 0px !important; text-indent: 0px !important; display: inline-block !important; vertical-align: baseline !important; font-size: 1px !important;"><span id="li_ui_li_gen_1421432617759_0"><a id="li_ui_li_gen_1421432617759_0-link" href="javascript:void(0);"><span id="li_ui_li_gen_1421432617759_0-logo">in</span><span id="li_ui_li_gen_1421432617759_0-title"><span id="li_ui_li_gen_1421432617759_0-mark"></span><span id="li_ui_li_gen_1421432617759_0-title-text">Share</span></span></a></span></span><span style="padding: 0px !important; margin: 0px !important; text-indent: 0px !important; display: inline-block !important; vertical-align: baseline !important; font-size: 1px !important;"><span id="li_ui_li_gen_1421432617782_1-container" class="IN-right IN-hidden"><span id="li_ui_li_gen_1421432617782_1" class="IN-right"><span id="li_ui_li_gen_1421432617782_1-inner" class="IN-right"><span id="li_ui_li_gen_1421432617782_1-content" class="IN-right">0</span></span></span></span></span></span><script type="IN/Share+init" data-counter="right"></script>
					        <!-- Place this tag where you want the +1 button to render. -->
					        <div id="___plusone_0" style="text-indent: 0px; margin: 0px; padding: 0px; border-style: none; float: none; line-height: normal; font-size: 1px; vertical-align: baseline; display: inline-block; width: 90px; height: 20px; background: transparent;"><iframe frameborder="0" hspace="0" marginheight="0" marginwidth="0" scrolling="no" style="position: static; top: 0px; width: 90px; margin: 0px; border-style: none; left: 0px; visibility: visible; height: 20px;" tabindex="0" vspace="0" width="100%" id="I0_1421432617538" name="I0_1421432617538" src="./PageCurl_files/fastbutton.html" data-gapiattached="true" title="+1"></iframe></div>

					        <!-- Place this tag after the last +1 button tag. -->
					        <script type="text/javascript">
					          (function() {
					            var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
					            po.src = 'https://apis.google.com/js/plusone.js';
					            var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
					          })();
					        </script> 
						</div> 
					</div>
				<footer class="entry-meta well well-sm small">
					This entry was posted in <a href="http://coronalabs.com/blog/topics/guest-bloggers/" rel="category tag">Guest Bloggers</a>, <a href="http://coronalabs.com/blog/topics/tutorials-tips-demos/" rel="category tag">Tutorials, Tips and Demos</a> and tagged <a href="http://coronalabs.com/blog/tags/android-tv/" rel="tag">Android TV</a>, <a href="http://coronalabs.com/blog/tags/tutorial/" rel="tag">tutorial</a>. Bookmark the <a href="./PageCurl_files/Coroutines.html" title="Permalink to Tutorial: Creating Android TV Apps" rel="bookmark">permalink</a>.
					
				</footer><!-- .entry-meta -->

				
				
	<div id="comments" class="comments-area">

	
	
	
									<div id="respond" class="comment-respond well">
				<h3 id="reply-title" class="comment-reply-title">Leave a Reply <small><a rel="nofollow" id="cancel-comment-reply-link" href="http://coronalabs.com/blog/2015/01/13/tutorial-creating-android-tv-apps/#respond" style="display:none;">Cancel Reply</a></small></h3>
									<form action="http://coronalabs.com/wp-comments-post.php" method="post" id="commentform" class="comment-form">
																			<p class="comment-notes">Your email address will not be published. Required fields are marked <span class="required">*</span></p>							<p class="comment-form-author"><label for="author">Name <span class="required">*</span></label> <input id="author" name="author" type="text" value="Star Crunch" size="30" aria-required="true"></p>
<p class="comment-form-email"><label for="email">Email <span class="required">*</span></label> <input id="email" name="email" type="text" value="steve@xibalbastudios.com" size="30" aria-required="true"></p>
<p class="comment-form-url"><label for="url">Website</label> <input id="url" name="url" type="text" value="http://www.xibalbastudios.com" size="30"></p>
												<p><textarea placeholder="Start typing..." id="comment" class="form-control" name="comment" cols="45" rows="8" aria-required="true"></textarea></p>						<p class="form-allowed-tags small">You may use these HTML tags and attributes: &lt;a href="" title="" rel=""&gt; &lt;abbr title=""&gt; &lt;acronym title=""&gt; &lt;b&gt; &lt;blockquote cite=""&gt; &lt;cite&gt; &lt;code&gt; &lt;del datetime=""&gt; &lt;em&gt; &lt;i&gt; &lt;q cite=""&gt; &lt;strike&gt; &lt;strong&gt; 						</p><p class="form-submit">
							<input name="submit" type="submit" id="commentsubmit" value="Post Comment" class="btn btn-primary btn-xs">
							<input type="hidden" name="comment_post_ID" value="60833" id="comment_post_ID">
<input type="hidden" name="comment_parent" id="comment_parent" value="0">
						</p>
						<p style="display: none;"><input type="hidden" id="akismet_comment_nonce" name="akismet_comment_nonce" value="7485a5e885"></p><p style="display: none;"></p>					<input type="hidden" id="ak_js" name="ak_js" value="1421432617297"></form>
							</div><!-- #respond -->
			
</div><!-- #comments -->

				
			</article><!-- #post-## -->
		</div>
		<div class="hidden-xs hidden-sm col-md-1 col-lg-1"></div>
		<div class="sidebar-content-inner col-sm-4 col-md-3 hidden-xs">
			<div style="display:none;" class="well well-clear">
				<img width="125" height="125" src="./PageCurl_files/google-play-store1.png" class="aligncenter wp-post-image" alt="google-play-store">				
			</div>

			

	<div class="sidebar clearfix well">
				<div class="sidebar-padder">

						<aside id="widget_tribe_widget_builder_46688-13" class="widget widget_tribe_widget_builder_46688"><div>
<h4 class="ac">Looking for premium monetization options?</h4>
<p><a class="btn btn-large btn-info btn-block" id="sidebar-buy-btn" href="http://coronalabs.com/store">BUY PRO</a></p>
<h5>… or test out <a class="corona-orange" href="https://developer.coronalabs.com/downloads/corona-sdk">Corona SDK Starter for free</a>.</h5>
</div>
</aside><aside id="widget_tribe_widget_builder_16089-13" class="widget widget_tribe_widget_builder_16089"><h4 class="sidebar-title">Starting building a…</h4>
<p>
</p><ul style="font-size:1.12em;">
<li><a href="http://coronalabs.com/i-want-to-build/games/">Game</a></li>
<li><a href="http://coronalabs.com/i-want-to-build/business-apps/">Business app</a></li>
<li><a href="http://coronalabs.com/i-want-to-build/education-kid-apps/">Educational app</a></li>
</ul>
<p>The possibilities are endless!</p>
</aside><aside id="categories-5" class="widget widget_categories"><h4 class="widget-title lead">Categories</h4><select name="cat" id="cat" class="postform">
	<option value="-1">Select Category</option>
	<option class="level-0" value="80">Amazon Kindle</option>
	<option class="level-0" value="11">Android</option>
	<option class="level-0" value="1679">Composer</option>
	<option class="level-0" value="1061">Corona Editor</option>
	<option class="level-0" value="108">Corona Enterprise</option>
	<option class="level-0" value="607">Corona Geek</option>
	<option class="level-0" value="1109">Corona Professional Services</option>
	<option class="level-0" value="4">Corona SDK</option>
	<option class="level-0" value="1137">CoronaCards</option>
	<option class="level-0" value="21">Daily Build</option>
	<option class="level-0" value="74">eBooks</option>
	<option class="level-0" value="17">Education</option>
	<option class="level-0" value="22">Events and Listeners</option>
	<option class="level-0" value="220">FAQ</option>
	<option class="level-0" value="16">Flash</option>
	<option class="level-0" value="389">Friday Night Forum</option>
	<option class="level-0" value="1119">From the Forum</option>
	<option class="level-0" value="5">Game Development</option>
	<option class="level-0" value="620">Google+ Hangouts</option>
	<option class="level-0" value="6">Guest Bloggers</option>
	<option class="level-0" value="42">iOS</option>
	<option class="level-0" value="19">iPad</option>
	<option class="level-0" value="43">iPhone</option>
	<option class="level-0" value="20">Lua</option>
	<option class="level-0" value="3">Mobile App of the Week</option>
	<option class="level-0" value="7">News &amp; Announcements</option>
	<option class="level-0" value="10">NOOK</option>
	<option class="level-0" value="18">Partners</option>
	<option class="level-0" value="1122">Plugins</option>
	<option class="level-0" value="31">Showcase</option>
	<option class="level-0" value="9">Tech</option>
	<option class="level-0" value="82">Training/Support</option>
	<option class="level-0" value="12">Tutorials, Tips and Demos</option>
	<option class="level-0" value="1">Uncategorized</option>
	<option class="level-0" value="13">Videos</option>
	<option class="level-0" value="1140">Windows Phone</option>
</select>

<script type="text/javascript">
/* <![CDATA[ */
	var dropdown = document.getElementById("cat");
	function onCatChange() {
		if ( dropdown.options[dropdown.selectedIndex].value > 0 ) {
			location.href = "http://coronalabs.com/?cat="+dropdown.options[dropdown.selectedIndex].value;
		}
	}
	dropdown.onchange = onCatChange;
/* ]]> */
</script>

</aside><aside id="widget_tribe_widget_builder_40523-2" class="widget widget_tribe_widget_builder_40523"><h4 class="sidebar-title">Case Study: Panda Math</h4>
<div class="clearfix ac" style="margin:10px 0 0;"><a href="http://coronalabs.com/case-study/redbyes-creates-mobile-apps-for-early-childhood-education/"><img class="ac" alt="Panda  Math (Redbytes)" src="./PageCurl_files/Panda-Math-Redbytes-148x150.png"></a><p></p>
<p class="al">Learn how tinytapps built a portfolio of <a href="http://coronalabs.com/case-study/redbyes-creates-mobile-apps-for-early-childhood-education/">early education apps</a> using Corona SDK.</p>
</div>
</aside>
		</div><!-- close .sidebar-padder -->
	</div>		</div>
	</div>


				
    </div><!-- close .container -->
</div><!-- close .main-content -->


<footer id="colophon" class="site-footer" role="contentinfo">
    <div class="container">
        <div class="row">
            <div id="inner-footer" class="clearfix full-ui hidden-xs">

                        <nav id="menu-standard-footer-menu" class="clearfix">
                        	
                        	<div class="col-xs-12 col-sm-6 col-md-2">
                            	<a href="http://coronalabs.com/products/corona-sdk/" class="footer-group-header">Products</a>
                                <ul class="sub-footer-menu">
                                	<li><a href="http://coronalabs.com/products/corona-sdk/">Corona SDK</a></li>
                                	<li><a href="http://coronalabs.com/products/enterprise/">Enterprise</a></li>
                                	<li><a href="http://coronacards.com/">CoronaCards</a></li>
                                	<li><a href="http://coronalabs.com/products/support-training/">Support &amp; Training</a></li>
                                </ul>
                            </div>


                            <div class="col-xs-12 col-sm-6 col-md-2">
                                <a href="http://coronalabs.com/resources/" class="footer-group-header">Resources</a>
                                <ul class="sub-footer-menu">
                                    <li><a target="_blank" href="http://forums.coronalabs.com/">Forum</a></li>
                                	<li><a target="_blank" href="http://docs.coronalabs.com/">Documentation</a></li>
                                	<li><a href="http://coronalabs.com/resources/tutorials/getting-started-with-corona/">Corona University</a></li>
                                	<li><a href="http://coronalabs.com/resources/plugins/">Corona Plugin Directory</a></li>
                                </ul>
                            </div>

                            <div class="col-xs-12 col-sm-6 col-md-2">
                                <a href="http://coronalabs.com/pricing" class="footer-group-header">Get Corona</a>
                                <ul class="sub-footer-menu">
                                	<li><a href="https://developer.coronalabs.com/downloads/coronasdk">Starter: Publish Free</a></li>
                                	<li><a href="http://coronalabs.com/pricing/">Buy Pro</a></li>
                                    <li><a href="http://coronalabs.com/pricing/">Buy Enterprise</a></li>
                                    <li><a href="http://coronacards.com/pricing">Buy CoronaCards</a></li>
                                </ul>
                            </div>

                            <div class="col-xs-12 col-sm-6 col-md-2">
                                <a href="http://coronalabs.com/about/" class="footer-group-header">About</a>
                                <ul class="sub-footer-menu">
                                    <li><a href="http://coronalabs.com/about/jobs/">Jobs</a></li>
                                	<li><a href="http://coronalabs.com/about/contact/">Contact</a></li>
                                </ul>
                            </div>

                            <div class="col-xs-12 col-sm-12 col-md-4">
                            	<a href="http://coronalabs.com/blog/2015/01/13/tutorial-creating-android-tv-apps/#" class="footer-group-header">Social</a>
                                <ul>
                                    <li>
                                        <div id="followIcons">
                                            <a href="https://twitter.com/coronalabs" class="followIcons" target="_blank">
                                                <img src="./PageCurl_files/twitter_32.png" width="35" height="36">
                                            </a>
                                            <a href="https://www.facebook.com/CoronaLabs" class="followIcons" target="_blank">
                                                <img src="./PageCurl_files/facebook_32.png" width="35" height="36">
                                            </a>
                                            <a href="https://www.youtube.com/user/CoronaLabs" class="followIcons" target="_blank">
                                                <img src="./PageCurl_files/youtube_32.png" width="35" height="36">
                                            </a>
                                        </div>
                                    </li>
                                </ul>
                            </div>

                        </nav>

            </div> <!-- end #inner-footer -->
        </div>
    </div>
    <div class="container">
	    <div class="row">
			<div class="col-md-12 small vspace footer-footer">
                <hr class="hidden-xs">
	            Copyright © 2009-2014 Corona Labs. A <a href="http://fusepowered.com/" target="_blank">Fuse Powered</a> Company. All rights reserved.<br>
	            <a class="footer-secondary-links" href="http://coronalabs.com/privacy-policy/">Privacy Policy</a> • <a class="footer-secondary-links" href="http://coronalabs.com/terms-and-conditions/">Terms and Conditions</a>
	       	</div>
		</div>
    </div>
</footer><!-- close #colophon -->

<script type="text/javascript" src="./PageCurl_files/form.js"></script>
<script type="text/javascript">
/* <![CDATA[ */
var mejsL10n = {"language":"en","strings":{"Close":"Close","Fullscreen":"Fullscreen","Download File":"Download File","Download Video":"Download Video","Play\/Pause":"Play\/Pause","Mute Toggle":"Mute Toggle","None":"None","Turn off Fullscreen":"Turn off Fullscreen","Go Fullscreen":"Go Fullscreen","Unmute":"Unmute","Mute":"Mute","Captions\/Subtitles":"Captions\/Subtitles"}};
var _wpmejsSettings = {"pluginPath":"\/wp-includes\/js\/mediaelement\/"};
var mejsL10n = {"language":"en","strings":{"Close":"Close","Fullscreen":"Fullscreen","Download File":"Download File","Download Video":"Download Video","Play\/Pause":"Play\/Pause","Mute Toggle":"Mute Toggle","None":"None","Turn off Fullscreen":"Turn off Fullscreen","Go Fullscreen":"Go Fullscreen","Unmute":"Unmute","Mute":"Mute","Captions\/Subtitles":"Captions\/Subtitles"}};
var _wpmejsSettings = {"pluginPath":"\/wp-includes\/js\/mediaelement\/"};
/* ]]> */
</script>
<script type="text/javascript" src="./PageCurl_files/mediaelement-and-player.min.js"></script>
<script type="text/javascript" src="./PageCurl_files/prettify.js"></script>
<script type="text/javascript" src="./PageCurl_files/lang-css.js"></script>
<script type="text/javascript" src="./PageCurl_files/lang-vb.js"></script>
<script type="text/javascript" src="./PageCurl_files/lang-lua.js"></script>
<script type="text/javascript" src="./PageCurl_files/load.js"></script>
<script type="text/javascript">
/* <![CDATA[ */
var pollsL10n = {"ajax_url":"https:\/\/coronalabs.com\/wp-admin\/admin-ajax.php","text_wait":"Your last request is still being processed. Please wait a while ...","text_valid":"Please choose a valid poll answer.","text_multiple":"Maximum number of choices allowed: ","show_loading":"1","show_fading":"1"};
/* ]]> */
</script>
<script type="text/javascript" src="./PageCurl_files/polls-js.js"></script>
<script type="text/javascript" src="./PageCurl_files/skip-link-focus-fix.js"></script>
<script type="text/javascript" src="./PageCurl_files/comment-reply.min.js"></script>
<script type="text/javascript" src="./PageCurl_files/jquery.fancybox.pack.js"></script>
<script type="text/javascript" src="./PageCurl_files/wp-fancy-box.js"></script>
<script type="text/javascript" src="./PageCurl_files/jquery.fancybox-buttons.js"></script>
<script type="text/javascript" src="./PageCurl_files/jquery.fancybox-media.js"></script>
<script type="text/javascript" src="./PageCurl_files/jquery.fancybox-thumbs.js"></script>
<script type="text/javascript" src="./PageCurl_files/jquery.ui.core.min.js"></script>
<script type="text/javascript" src="./PageCurl_files/jquery.ui.datepicker.min.js"></script>
<script type="text/javascript">
/* <![CDATA[ */
var wpv_pagination_local = {"regional":"en","front_ajaxurl":"http:\/\/coronalabs.com\/wp-admin\/admin-ajax.php","calendar_image":"https:\/\/coronalabs.com\/plugins\/wp-views\/embedded\/res\/img\/calendar.gif","calendar_text":"Select date"};
/* ]]> */
</script>
<script type="text/javascript" src="./PageCurl_files/wpv-pagination-embedded.js"></script>
<script defer="" src="./PageCurl_files/custom.js" type="text/javascript"></script>
<script>  var AWESM = AWESM || {};  AWESM.api_key = 'fa22875a8884108a6244b659bc44e41d7342b0899a56ae9758f6c9965c9a34a0';  (function() {    var js = document.createElement('script'); js.type = 'text/javascript'; js.async = true;    js.src = '//widgets.awe.sm/v3/widgets.js?key=' + AWESM.api_key + '&async=true';    var s = document.getElementsByTagName('script')[0];    s.parentNode.insertBefore(js,s);  })();</script>


<!-- Performance optimized by W3 Total Cache. Learn more: http://www.w3-edge.com/wordpress-plugins/

Minified using apc
Database Caching using apc (Request-wide Cookie is rejected)

 Served from: coronalabs.com @ 2015-01-16 10:23:03 by W3 Total Cache --><iframe name="oauth2relay627090594" id="oauth2relay627090594" src="./PageCurl_files/postmessageRelay.html" tabindex="-1" style="width: 1px; height: 1px; position: absolute; top: -100px;"></iframe><div id="fb-root" class=" fb_reset"><script async="" src="./PageCurl_files/all.js"></script><div style="position: absolute; top: -10000px; height: 0px; width: 0px;"><div><iframe name="fb_xdm_frame_http" frameborder="0" allowtransparency="true" scrolling="no" id="fb_xdm_frame_http" aria-hidden="true" title="Facebook Cross Domain Communication Frame" tabindex="-1" src="./PageCurl_files/7r8gQb8MIqE.html" style="border: none;"></iframe><iframe name="fb_xdm_frame_https" frameborder="0" allowtransparency="true" scrolling="no" id="fb_xdm_frame_https" aria-hidden="true" title="Facebook Cross Domain Communication Frame" tabindex="-1" src="./PageCurl_files/7r8gQb8MIqE(1).html" style="border: none;"></iframe></div></div><div style="position: absolute; top: -10000px; height: 0px; width: 0px;"><div><iframe name="fa05c7f24" frameborder="0" allowtransparency="true" scrolling="no" src="./PageCurl_files/ping.html" style="display: none;"></iframe></div></div></div><script src="./PageCurl_files/register"></script><script src="./PageCurl_files/new"></script></body></html>